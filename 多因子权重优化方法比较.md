---


---

<h1 id="多因子权重优化方法比较">多因子权重优化方法比较</h1>
<p>在多因子量化投资体系中，具有稳定的预期收益，可解释的经济驱动理论，与其他因子的低相关性是选择alpha因子的关键指标。本篇文章中，我们以此为因子选取标准，简单地构建了自己的因子库，总共包括八个大类因子，每个大类因子中包含四到五个子类细分因子。为了比较不同的权重优化方法的优劣，本文首先采取不同的方法对各个大类因子下的细分因子进行合成，确定了不同大类因子的各自最优的合成方法；其次，通过不同权重合成方法对合成的大类代理因子进行二次权重合成，并比较了这些不同合成方法下的因子表现差异。基于上述多因子权重优化建模体系，我们初步得出以下结论：</p>
<ol>
<li>同一大类因子下细分因子之间存在相关性，表现为细分因子IC值整体变化方向相近。</li>
<li>不同大类因子适合不同的合成方式，PCA方法适用于具有较强相关性的细分因子，在选股绩效指标中，具有较大的累积收益和较低的回撤值，同时夏普比率和胜率表现良好，平均换手率较低，可以降低投资者在手续费佣金上的支出。</li>
<li>在细分因子的合成方法中，逐步回归（stepwise）方法稳健性不佳，在不同的时期上同一大类因子下不同的细分因子的占比可能存在较大差异。</li>
<li>在大类代理因子权重配置上，通过计算大类因子的IC进一步配置权重，可以看出合成后的因子受市场风格轮动影响，权重取值波动频繁，通过观察选股绩效指标，使用压缩矩阵最大化复合因子IR的权重配置方式可以达到较佳权重优化的效果。使用平均IC赋予大类因子权重时，选股结果显示这种方式对市场风格变化的敏感程度较强。</li>
</ol>
<h2 id="一、-驱动逻辑与建模框架">一、 驱动逻辑与建模框架</h2>
<p>在前两篇文章中，我们对估值因子和波动率因子进行了详细的分析，但是前文的分析仅仅局限于某个大类因子中其包含的细分因子的有效性检验。然而在真实的市场环境下，投资者将所有的风险都暴露在某一个因子下，显然是不够理性的。为此，本篇将对因子的合成方法进行探讨，以求能最大化各因子有效性带来的溢价的同时降低单个因子带来的风险暴露，达到二者之间的一个动态平衡。</p>
<p>常见的多因子合成方法包括：</p>
<ol>
<li>等权加权</li>
<li>IC均值加权</li>
<li>IR_IC加权</li>
</ol>
<p>以往的多因子合成方法的研究，很少考虑到大类因子本身的合成，仅纯粹地对所选定的因子进行合成，用某一个大类因子下的细分因子代替该大类因子，具有一定的随意性。本文尝试首先对大类因子内的细分因子进行选取合成，然后利用相对表现较好的合成方法得到的大类因子的代理变量来进一步合成最终的选股因子。</p>
<p>通过前两篇对估值因子和波动率因子的分析，我们发现大类因子中的细分因子之间存在较高的相关性。具有高相关性的细分因子大多代表了相同的一类信息，为了消除细分因子之间的共线性，最大化地提取该大类因子的信息，本文对大类因子下的细分因子信息进行提取，主要采取了以下三种方法。</p>
<p>方法一：基于等权的思想对大类因子下的细分因子进行加权</p>
<p>方法二：利用PCA方法对具有高相关性的因子进行降维，使用降维后的特征变量作为该大类因子的代理变量，其中方差解释率最低要求为70%</p>
<p>方法三：利用逐步回归法对各大类因子下的细分因子进行回归，选取能够最大程度提升模型解释力度的细分因子进入备选因子集，对所有备选因子进行简单平均得到合成后的大类因子代理变量</p>
<p><img src="https://alicdn.ricequant.com/upload/cf/b1503fc88e289b3d2de0adb841b368cf.png" alt=""></p>
<p>图1 逐步回归（stepwise）流程图</p>
<p><strong>注：图片来源于wikipedia</strong></p>
<p>在根据以上三种方法合成得到大类因子后，我们选取整体表现最好的合成方法作为大类因子的代理变量生成器，在此基础上，对各大类因子进行再次合成。此时，大类因子之间的合成将采用以下四种方法：</p>
<p>方法一：大类因子之间进行等权处理，即赋予每个大类因子相同的权重。该种处理方法没有考虑到各大类因子之间的有效性以及稳定性的差异，也忽略了因子之间的相关性。</p>
<p>方法二：根据大类因子的IC均值加权合成。不同的大类因子之间其因子有效性是存在差异的，根据以往的研究结果，一般而言估值因子和规模因子都是表现相对显著的，而杠杆，运营因子都是表现相对较差的因子，如果以等权的方式来对各大类因子进行加权，则忽略了不同因子的解释力度。</p>
<p>方法三：基于大类因子的IR_IC值进行加权。基于IR_IC的加权方法综合考虑了因子有效性和稳定性，在保证因子收益的同时也考虑了因子的波动性。其中IR的定义为IC的均值除以IC的标准差。</p>
<p>方法四：最大化复合因子IR。根据Qian在《Quantitative Equity Portfolio Management》中提出的方法，我们可以通过最大化复合因子的IR来获得因子最优权重，利用求解得到的最优权重去合成新的因子。假设测试期内N个因子的权重向量分别为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>W</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>W</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">W_1,W_2,...,W_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span></span></span></span></span>，因子IC值的向量分别为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><msub><mi>C</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">IC_1,IC_2,...,IC_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span></span></span></span></span>，IC构成的协方差矩阵为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"></span><span class="base"><span class="mord mathrm">Σ</span></span></span></span></span>，则符合因子的<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>R</mi><mo>=</mo><mfrac><mrow><msup><mi>W</mi><mi>T</mi></msup><mo>∗</mo><mi>I</mi><mi>C</mi></mrow><mrow><msqrt><mrow><msup><mi>W</mi><mi>T</mi></msup><mi mathvariant="normal">Σ</mi><mi>W</mi></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">IR=\frac{W^T*IC}{\sqrt{W^T\Sigma W}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 1.03736em;"></span><span class="strut bottom" style="height: 1.57536em; vertical-align: -0.538em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.00773em;">R</span><span class="mrel">=</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.03736em;"><span class="" style="top: -2.50563em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist svg-align" style="height: 0.977671em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord mtight" style="padding-left: 0.833em;"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.774093em;"><span class="" style="top: -2.786em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathrm mtight">Σ</span><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span></span></span><span class="" style="top: -2.93767em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail mtight" style="min-width: 0.853em; height: 1em;"><svg width="400em" height="1em" viewBox="0 0 400000 1000" preserveAspectRatio="xMinYMin slice"><path d="M95 622c-2.667 0-7.167-2.667-13.5
-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s
65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173
378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333
-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19
7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.0623286em;"></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.919093em;"><span class="" style="top: -2.931em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mbin mtight">∗</span><span class="mord mathit mtight" style="margin-right: 0.07847em;">I</span><span class="mord mathit mtight" style="margin-right: 0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.538em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>=</mo><mo>[</mo><msub><mi>W</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>W</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>W</mi><mi>n</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">W=[W_1,W_2,...,W_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mrel">=</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>C</mi><mo>=</mo><mo>[</mo><mi>I</mi><msub><mi>C</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mi>n</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">IC=[IC_1,IC_2,...,IC_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="mrel">=</span><span class="mopen">[</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>，通过对W求导，可以直接解得最优权重的解析解为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>W</mi><mo>∗</mo></msup><mo>=</mo><mi>s</mi><msubsup><mi mathvariant="normal">Σ</mi><mrow><mi>I</mi><mi>C</mi></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mi>I</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">W^*=s\Sigma_{IC}^{-1}IC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.854239em;"></span><span class="strut bottom" style="height: 1.14777em; vertical-align: -0.293531em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.688696em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord mathit">s</span><span class="mord"><span class="mord mathrm">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.854239em;"><span class="" style="top: -2.40647em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.07847em;">I</span><span class="mord mathit mtight" style="margin-right: 0.07153em;">C</span></span></span></span><span class="" style="top: -3.10313em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.293531em;"></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span>。</p>
<h2 id="二、数据选取">二、数据选取</h2>
<p>表1       因子定义</p>

<table>
<thead>
<tr>
<th>大类因子</th>
<th>因子简称</th>
<th>因子解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>估值因子</td>
<td>pe_ratio</td>
<td>市盈率</td>
</tr>
<tr>
<td></td>
<td>pb_ratio</td>
<td>市净率</td>
</tr>
<tr>
<td></td>
<td>pcf_ratio</td>
<td>市现率</td>
</tr>
<tr>
<td></td>
<td>ps_ratio</td>
<td>市销率</td>
</tr>
<tr>
<td></td>
<td>EBIT/EV</td>
<td>息税前利润/企业价值</td>
</tr>
<tr>
<td>波动率因子</td>
<td>idio_vol_FF</td>
<td>基于Fama的特质波动率</td>
</tr>
<tr>
<td></td>
<td>idio_vol_CAPM</td>
<td>基于CAPM的特质波动率</td>
</tr>
<tr>
<td></td>
<td>idio_vol_Carhart</td>
<td>基于carhart的特质波动率</td>
</tr>
<tr>
<td></td>
<td>downside_idio_vol_FF</td>
<td>基于Fama的特质下行波动率</td>
</tr>
<tr>
<td></td>
<td></td>
<td>upside_idio_vol_FF</td>
</tr>
<tr>
<td>营运能力因子</td>
<td>fixed_asset_turnover</td>
<td>固定资产周转率</td>
</tr>
<tr>
<td></td>
<td>inventory_turnover</td>
<td>存货周转率</td>
</tr>
<tr>
<td></td>
<td>total_asset_turnover</td>
<td>总资产周转率</td>
</tr>
<tr>
<td></td>
<td>current_asset_turnover</td>
<td>流动资本周转率</td>
</tr>
<tr>
<td>规模因子</td>
<td>shareMC_allMC_ratio</td>
<td>流通与总市值比</td>
</tr>
<tr>
<td></td>
<td>log_market_cap</td>
<td>市值自然对数</td>
</tr>
<tr>
<td></td>
<td>log_share_market_cap</td>
<td>流通市值自然对数</td>
</tr>
<tr>
<td></td>
<td>log_asset</td>
<td>总资产自然对数</td>
</tr>
<tr>
<td>技术因子</td>
<td>turnover_22</td>
<td>换手率（22）</td>
</tr>
<tr>
<td></td>
<td>mp5_mp22</td>
<td>5日均价/22日均价</td>
</tr>
<tr>
<td></td>
<td>rets_22</td>
<td>过去22个交易日的累计涨跌幅</td>
</tr>
<tr>
<td></td>
<td>avg_rets_22</td>
<td>22日收益平均值</td>
</tr>
<tr>
<td></td>
<td>vwap</td>
<td>22日交易量加权的平均值</td>
</tr>
<tr>
<td>杠杆因子</td>
<td>debt_to_equity_ratio</td>
<td>负债权益比</td>
</tr>
<tr>
<td></td>
<td>debt_to_asset_ratio</td>
<td>资产负债比</td>
</tr>
<tr>
<td></td>
<td>tangible_asset_to_debt</td>
<td>有形资产负债比</td>
</tr>
<tr>
<td></td>
<td>current_ratio</td>
<td>现金比率</td>
</tr>
<tr>
<td></td>
<td>quick_ratio</td>
<td>流动比率</td>
</tr>
<tr>
<td>财务质量因子</td>
<td>return_on_equity</td>
<td>净资产收益率</td>
</tr>
<tr>
<td></td>
<td>return_on_asset</td>
<td>总资产收益率</td>
</tr>
<tr>
<td></td>
<td>earnings_per_share</td>
<td>每股收益</td>
</tr>
<tr>
<td></td>
<td>net_profit_to_revenue</td>
<td>净利润/营业收入</td>
</tr>
<tr>
<td></td>
<td>profit_from_operation_to_revenue</td>
<td>经营收入/营业收入</td>
</tr>
<tr>
<td>成长性因子</td>
<td>inc_net_profit</td>
<td>净利润同比增长率</td>
</tr>
<tr>
<td></td>
<td>inc_total_asset</td>
<td>总资产同比增长率</td>
</tr>
<tr>
<td></td>
<td>inc_revenue</td>
<td>收入同比增长率</td>
</tr>
<tr>
<td></td>
<td>inc_eps</td>
<td>每股收益同比增长率</td>
</tr>
<tr>
<td></td>
<td>inc_cash_from_operations</td>
<td>经营现金流同比增长率</td>
</tr>
</tbody>
</table><p>本文将所有细分因子划分为八个大类因子，分别为估值因子、波动率因子、营运能力因子、规模因子、技术因子、杠杆因子、财务质量因子以及成长性因子。因子股票池为扣除上市时间不满一年的次新股后的全市场A股，测试区间为2014-01-01~2017-06-30，涵盖一轮牛熊周期。因子调仓周期统一设置为月调仓，每月月底根据合成因子值更新股票池，表现最好的前20%的股票进入股票池。</p>
<h2 id="三、-细分因子分析">三、 细分因子分析</h2>
<p>在前两篇文章中，我们对估值类和波动率类大类因子的细分因子进行了详细测试，本文为节约篇幅，仅计算了其余各大类因子的细分因子的IC表现，具体表现可参考附录1，此处以规模类因子为例：
<img src="https://alicdn.ricequant.com/upload/98/fa0a8e77aed045cd0096bfcddd1a6498.png" alt=""></p>
<p>图2 规模细分因子的IC变化图</p>
<p>可以发现在规模类因子下，其细分因子的IC值整体变化方向一致，只是强弱有差异。方向一致说明了细分因子之间存在显著相关性，即各细分因子蕴含着对未来收益率变化的一致信息。而强度不同则表明某些细分因子更加有效，而其他因子有效性相对较差。如对数流通市值IC的绝对值峰值达到了0.5以上，而对数总市值的IC峰值则在0.3附近，说明流通市值相比于总市值具有更好的预测能力。若此时简单地对各细分因子等权加权，则有时会损失某些表现较强的因子的信息价值。顺便提一下，从规模类因子的各细分因子的IC方向来看，从16年12月开始，整个市场的市值风格偏好发生了明显的变化，以往以小为美的偏好开始转变为以大为美，且整个17年上半年IC值全部为正，若此时继续坚持购买小盘股，恐怕投资者不得不为自己的执着买单。</p>
<h2 id="四、-大类代理因子的合成">四、 大类代理因子的合成</h2>
<p>通过对同类细分因子的分析，我们可以了解到细分因子之间存在较强的相关性，对大类因子的解释程度上存在冗余信息；基于大类因子下的细分因子蕴含相同的信息的前提，本文对大类因子下的细分因子进行了合成处理，以期得到一个能够更好代理该大类因子的变量。根据前文所提出的三个方法，我们来一一验证。以估值因子为例，我们列举了三种方法下各因子占比前20%的股票构成的股票池所得到的累积收益率、最大回撤、年化波动率、夏普比率、胜率占比以及换手率。</p>
<p>表2       三种合成估值代理因子方式的绩效指标（前20%股票）</p>

<table>
<thead>
<tr>
<th></th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>等权</td>
<td>228.26%</td>
<td>30.79%</td>
<td>30.54%</td>
<td>0.87</td>
<td>69.05%</td>
<td>16.01%</td>
</tr>
<tr>
<td>PCA</td>
<td>230.40%</td>
<td>29.89%</td>
<td>28.74%</td>
<td>0.91</td>
<td>71.43%</td>
<td>13.87%</td>
</tr>
<tr>
<td>逐步回归</td>
<td>222.49%</td>
<td>34.29%</td>
<td>32.85%</td>
<td>0.78</td>
<td>69.05%</td>
<td>56.67%</td>
</tr>
</tbody>
</table><p><img src="https://alicdn.ricequant.com/upload/f4/2d2b6590ddaface940e0b852443b3ef4.png" alt=""></p>
<p>图3 三种合成估值代理因子方式的累计收益对比（前20%股票）</p>
<p><img src="https://alicdn.ricequant.com/upload/df/20cdc10d1544abdde1a084776c8d9ddf.png" alt=""></p>
<p>图4 三种合成估值代理因子方法的累积收益图</p>
<p>根据表格数据可知，针对特定的估值类因子而言，PCA方法合成得到的因子综合表现更好，具有更大的累积收益和更低的回撤值，同时夏普比率和胜率都是表现最好的，而且其平均换手率最低，仅为13.87%，如果考虑手续费对回测结果的影响，PCA方法合成得到的因子将具有更加优秀的表现。在逐步回归方法中，合成得到的估值因子的换手率达到了惊人的56.67%，一定程度上说明了逐步回归法得到的结果不具有稳健性，导致不同月份有效因子的细分成分存在很大差异。</p>
<p>为了节约行文的篇幅，此处仅列举出以夏普率为比较基准的条件下不同合成方法对大类因子细分因子合成的影响。对于其他大类因子各合成方法的具体表现，就不再赘述，有兴趣的读者可以联系作者获取。</p>
<p>表3 不同合成方法下不同大类因子的夏普率比较</p>

<table>
<thead>
<tr>
<th></th>
<th>估值</th>
<th>成长</th>
<th>波动率</th>
<th>质量</th>
<th>规模</th>
<th>杠杆</th>
<th>技术</th>
<th>营运能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>等权</td>
<td>0.87</td>
<td>1.12</td>
<td>0.95</td>
<td>0.98</td>
<td>0.81</td>
<td>0.91</td>
<td>1.02</td>
<td>0.88</td>
</tr>
<tr>
<td>PCA</td>
<td>0.91</td>
<td>0.91</td>
<td>1.03</td>
<td>0.90</td>
<td>0.83</td>
<td>0.72</td>
<td>0.48</td>
<td>0.97</td>
</tr>
<tr>
<td>逐步回归</td>
<td>0.78</td>
<td>1.14</td>
<td>0.96</td>
<td>1.03</td>
<td>0.84</td>
<td>0.89</td>
<td>1.10</td>
<td>0.85</td>
</tr>
</tbody>
</table><p>根据表格内容可知，不同大类因子对应的最优合成方法存在差异，总体而言，相比于纯粹的等权组合，PCA和逐步回归法具有一定的比较优势。在八大类因子中，逐步回归法占优的次数为4次，PCA的方法占优的次数为3次，而等权的方法仅有一次占优。同时，结合我们对各大类因子下细分因子的定义，可以发现PCA方法更适用于细分因子之间具有高相关性的大类因子。以波动率因子和技术因子为例，技术因子的各细分因子的平均相关系数值为0.41，而此时合成的技术大类因子夏普值为0.48，波动率因子之间的平均相关系数为0.90，而合成的波动率类因子的夏普值为1.03。</p>
<p>基于以上的统计结果，我们对不同的大类因子应用不同的合成方法，作为该大类因子的代理变量。即杠杆率因子采用等权方法，估值因子、波动率因子和营运能力因子采用PCA方法，而成长、质量、规模和技术类因子则采用逐步回归法。在得到新和成的大类因子后，我们对不同的大类因子进行IC分析，如下表所示：</p>
<p>通过对不同的大类因子采取不同的合成手段，可以看出IC相关系数的显著比例有明显提高，合成因子的总显著比例（IC为正的显著比例和IC为负的显著比例之和）都占50%以上。</p>
<p>表4 融合不同合成方法下大类因子IC统计变量表</p>

<table>
<thead>
<tr>
<th></th>
<th>估值</th>
<th>成长</th>
<th>波动率</th>
<th>质量</th>
<th>规模</th>
<th>杠杆</th>
<th>技术</th>
<th>营运能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>IC均值</td>
<td>-0.071</td>
<td>0.01</td>
<td>0.006</td>
<td>0.005</td>
<td>-0.047</td>
<td>-0.008</td>
<td>-0.085</td>
<td>0.01</td>
</tr>
<tr>
<td>IC标准差</td>
<td>0.221</td>
<td>0.073</td>
<td>0.135</td>
<td>0.107</td>
<td>0.225</td>
<td>0.067</td>
<td>0.147</td>
<td>0.082</td>
</tr>
<tr>
<td>IC正次数</td>
<td>14</td>
<td>22</td>
<td>21</td>
<td>19</td>
<td>17</td>
<td>16</td>
<td>11</td>
<td>24</td>
</tr>
<tr>
<td>IC负次数</td>
<td>28</td>
<td>20</td>
<td>21</td>
<td>23</td>
<td>25</td>
<td>26</td>
<td>31</td>
<td>18</td>
</tr>
<tr>
<td>IC正显著</td>
<td>28.6%</td>
<td>28.6%</td>
<td>35.7%</td>
<td>33.3%</td>
<td>33.3%</td>
<td>21.4%</td>
<td>14.3%</td>
<td>23.8%</td>
</tr>
<tr>
<td>IC负显著</td>
<td>52.4%</td>
<td>21.4%</td>
<td>38.1%</td>
<td>33.3%</td>
<td>47.6%</td>
<td>28.6%</td>
<td>54.8%</td>
<td>26.2%</td>
</tr>
<tr>
<td>IC_T值</td>
<td>-2.08</td>
<td>0.915</td>
<td>0.294</td>
<td>0.33</td>
<td>-1.361</td>
<td>-0.778</td>
<td>-3.753</td>
<td>0.755</td>
</tr>
<tr>
<td>IC_P值</td>
<td>0.044</td>
<td>0.366</td>
<td>0.77</td>
<td>0.743</td>
<td>0.181</td>
<td>0.441</td>
<td>0.001</td>
<td>0.455</td>
</tr>
<tr>
<td>IC偏度</td>
<td>0.065</td>
<td>0.208</td>
<td>0.284</td>
<td>0.444</td>
<td>0.273</td>
<td>0.297</td>
<td>-0.646</td>
<td>0.052</td>
</tr>
<tr>
<td>IC峰度</td>
<td>-0.875</td>
<td>-0.493</td>
<td>-0.822</td>
<td>-0.513</td>
<td>-0.797</td>
<td>-0.795</td>
<td>0.134</td>
<td>-0.478</td>
</tr>
<tr>
<td>IR</td>
<td>-0.321</td>
<td>0.141</td>
<td>0.045</td>
<td>0.051</td>
<td>-0.21</td>
<td>-0.12</td>
<td>-0.579</td>
<td>0.116</td>
</tr>
</tbody>
</table><h2 id="五、大类因子的权重配置">五、大类因子的权重配置</h2>
<p>由于投资者的行为偏差导致的市场异象，alpha因子的效果已经衰减，面对因子这片蓝海，我们需要挖掘新的可以解释市场异象的因子或者运用新的因子构建方法；上文我们已经通过三种方式对细分因子进行的合成，构建了能够解释细分因子，充当大类因子的代理因子，接下来我们对合成之后的大类因子构建多因子模型，在对大类代理因子的权重设定上我们采用了四种方式：</p>
<ol>
<li>大类代理因子的等权配置；这里的等权是指每个代理因子的权重绝对值为1，权重的正负由前几期的大类因子RANK IC决定。此次报告我们将大类因子的RANK IC均值与RANK IC均值绝对值的比值作为新大类代理因子的方向，即每个大类因子的权重为1或者-1。</li>
<li>大类代理因子的IC均值加权配置，即根据前几期大类因子的RANK IC的均值对当期的代理因子配置权重。此次报告我们将大类因子在过去45天IC均值作为新大类代理因子的权重。</li>
<li>大类代理因子的IR加权配置，即根据前几期大类因子的IR对当期代理因子配置权重。此次报告我们将大类因子在过去45天IR作为新大类代理因子的权重。</li>
<li>通过最大化复合大类因子的IR，利用前几期大类代理因子的绩效指标即IC，利用上文提及的公式，假设测试期内N个因子的权重向量分别为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>W</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>W</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">W_1,W_2,...,W_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span></span></span></span></span>，因子IC值的向量分别为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><msub><mi>C</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">IC_1,IC_2,...,IC_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.87777em; vertical-align: -0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span></span></span></span></span>，IC构成的协方差矩阵为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Σ</mi></mrow><annotation encoding="application/x-tex">\Sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.68333em;"></span><span class="strut bottom" style="height: 0.68333em; vertical-align: 0em;"></span><span class="base"><span class="mord mathrm">Σ</span></span></span></span></span>，则复合因子<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>R</mi><mo>=</mo><mfrac><mrow><msup><mi>W</mi><mi>T</mi></msup><mo>∗</mo><mi>I</mi><mi>C</mi></mrow><mrow><msqrt><mrow><msup><mi>W</mi><mi>T</mi></msup><mi mathvariant="normal">Σ</mi><mi>W</mi></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">IR=\frac{W^T*IC}{\sqrt{W^T\Sigma W}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 1.03736em;"></span><span class="strut bottom" style="height: 1.57536em; vertical-align: -0.538em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.00773em;">R</span><span class="mrel">=</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.03736em;"><span class="" style="top: -2.50563em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist svg-align" style="height: 0.977671em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord mtight" style="padding-left: 0.833em;"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.774093em;"><span class="" style="top: -2.786em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathrm mtight">Σ</span><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span></span></span><span class="" style="top: -2.93767em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail mtight" style="min-width: 0.853em; height: 1em;"><svg width="400em" height="1em" viewBox="0 0 400000 1000" preserveAspectRatio="xMinYMin slice"><path d="M95 622c-2.667 0-7.167-2.667-13.5
-8S72 604 72 600c0-2 .333-3.333 1-4 1.333-2.667 23.833-20.667 67.5-54s
65.833-50.333 66.5-51c1.333-1.333 3-2 5-2 4.667 0 8.667 3.333 12 10l173
378c.667 0 35.333-71 104-213s137.5-285 206.5-429S812 17.333 812 14c5.333
-9.333 12-14 20-14h399166v40H845.272L620 507 385 993c-2.667 4.667-9 7-19
7-6 0-10-1-12-3L160 575l-65 47zM834 0h399166v40H845z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.0623286em;"></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.919093em;"><span class="" style="top: -2.931em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mbin mtight">∗</span><span class="mord mathit mtight" style="margin-right: 0.07847em;">I</span><span class="mord mathit mtight" style="margin-right: 0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.538em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>=</mo><mo>[</mo><msub><mi>W</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>W</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>W</mi><mi>n</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">W=[W_1,W_2,...,W_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mrel">=</span><span class="mopen">[</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>C</mi><mo>=</mo><mo>[</mo><mi>I</mi><msub><mi>C</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>I</mi><msub><mi>C</mi><mi>n</mi></msub><mo>]</mo></mrow><annotation encoding="application/x-tex">IC=[IC_1,IC_2,...,IC_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.75em;"></span><span class="strut bottom" style="height: 1em; vertical-align: -0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="mrel">=</span><span class="mopen">[</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mpunct">,</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mord mathrm">.</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>，通过对W求导，可以直接解得最优权重的解析解为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>W</mi><mo>∗</mo></msup><mo>=</mo><mi>s</mi><msubsup><mi mathvariant="normal">Σ</mi><mrow><mi>I</mi><mi>C</mi></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mi>I</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">W^*=s\Sigma_{IC}^{-1}IC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height: 0.854239em;"></span><span class="strut bottom" style="height: 1.14777em; vertical-align: -0.293531em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.688696em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mrel">=</span><span class="mord mathit">s</span><span class="mord"><span class="mord mathrm">Σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.854239em;"><span class="" style="top: -2.40647em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight" style="margin-right: 0.07847em;">I</span><span class="mord mathit mtight" style="margin-right: 0.07153em;">C</span></span></span></span><span class="" style="top: -3.10313em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathrm mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.293531em;"></span></span></span></span></span><span class="mord mathit" style="margin-right: 0.07847em;">I</span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span>，用此权重对当期代理因子配置权重。此次报告我们将大类因子在过去45天IC序列作为计算新大类代理因子的权重的依据。其中，在计算协方差矩阵时，考虑到矩阵的可逆性，我们使用了两种方式，分别是普通的协方差矩阵和使用Ledoit-Wolf压缩方法计算得到协方差矩阵。</li>
</ol>
<p>由于我们选取的因子大部分为财务因子，因子的更新速度较缓慢，所以在月调仓的前提下，我们在计算因子的IC时，将采取固定因子暴露度，将之与当期与下期之间的所有日收益率序列进行相关系数计算，将得到的IC序列对下期大类代理因子运用上述四种方法进行权重设定。</p>
<p>通过以上四种方式计算的大类因子的权重中，在大部分情况下使用压缩矩阵计算最大化复合IR的权重相比使用普通协方差矩阵计算最大化复合IR权重的波动幅度较小，稳定性较佳。</p>
<p>关于不同方式的大类代理因子的权重配置时间序列对比图详见附录2。</p>
<p>以估值大类因子的权重配置统计分析为例，下面的表格展示了对于估值类代理因子，即使同样是使用最大化复合IR的方式优化权重，使用压缩矩阵和一般矩阵的权重偏度明显有差异，使用一般矩阵时权重右偏，而使用压缩矩阵时权重分布则是左偏，并且峰度大于3，比正态分布陡峭，有最小的离散系数，说明相比其他权重配置方式，使用压缩矩阵的权重配置在单位均值上的离散程度最小，稳定性较好；使用IC均值加权时离散系数最大，说明使用此种方式配置权重时受市场风格影响较大，对市场变化的敏感程度更强，跟下面实际选股结果吻合。</p>
<p>表5 估值大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>1.013102</td>
<td>-1.73058</td>
<td>0.103393</td>
<td>0.112792</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.455462</td>
<td>0.215683</td>
<td>0.049443</td>
<td>0.261043</td>
</tr>
<tr>
<td>均值</td>
<td>0.449128</td>
<td>0.262599</td>
<td>0.02525</td>
<td>0.166867</td>
</tr>
<tr>
<td>峰度</td>
<td>1.239761</td>
<td>5.108267</td>
<td>-0.74618</td>
<td>-0.89126</td>
</tr>
<tr>
<td>最大值</td>
<td>1.883323</td>
<td>0.609466</td>
<td>0.095258</td>
<td>0.512162</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.42823</td>
<td>-0.68019</td>
<td>-0.02744</td>
<td>-0.17185</td>
</tr>
<tr>
<td>标准差</td>
<td>0.488986</td>
<td>0.23042</td>
<td>0.030666</td>
<td>0.19254</td>
</tr>
<tr>
<td>离散系数</td>
<td>1.088745</td>
<td>0.87746</td>
<td>1.214498</td>
<td>1.153852</td>
</tr>
</tbody>
</table><p>关于不同方式的大类因子的权重配置统计分析对比表格详见附录3。</p>
<p>以考察各种权重配置方式下选择后20%股票进行交易的绩效指标为例，下面的表格使用常见的绩效指标综合评价各种配置权重的方式，可以看出在夏普比率上各种权重配置方式相比单个大类因子选股有提高，其中使用压缩矩阵最大化复合IR的方式相比使用一般矩阵高0.15左右；使用多因子策略时的换手率相比单因子有明显的增大，也说明了权重配置上受市场风格的影响较大，资产配置在时间序列上分散程度较广泛，使用IR加权时，换手率高达66%，说明此种权重配置方式受市场风格轮动的影响程度较大；使用压缩矩阵最大化复合IR的权重配置方式拥有最小的最大回撤，而等权方式拥有最大的最大回撤值，与通过观察权重配置统计分析的结论相同；在所有权重配置方式中，除了等权配置外，其余方式选股的胜率都在60%以上，并且使用压缩矩阵最大化复合IR比使用一般矩阵的胜率高出2.5个百分点。综合上面的绩效指标考察，使用压缩矩阵最大化复合IR的权重配置方式的选股优势较明显。</p>
<p>表6 不同大类因子权重配置方式的选股绩效指标（后20%股票）</p>

<table>
<thead>
<tr>
<th></th>
<th>夏普</th>
<th>换手率</th>
<th>最大回撤</th>
<th>波动率</th>
<th>累积收益</th>
<th>胜率</th>
</tr>
</thead>
<tbody>
<tr>
<td>等权</td>
<td>0.925843</td>
<td>63.03%</td>
<td>36.93%</td>
<td>10.45%</td>
<td>175.02%</td>
<td>58.54%</td>
</tr>
<tr>
<td>IR加权</td>
<td>1.094918</td>
<td>66.24%</td>
<td>33.06%</td>
<td>10.23%</td>
<td>215.20%</td>
<td>63.41%</td>
</tr>
<tr>
<td>最大化复合IR(一般矩阵)</td>
<td>0.876291</td>
<td>59.12%</td>
<td>33.45%</td>
<td>10.92%</td>
<td>172.37%</td>
<td>60.98%</td>
</tr>
<tr>
<td>最大化复合IR(压缩矩阵)</td>
<td>1.021081</td>
<td>61.39%</td>
<td>31.96%</td>
<td>10.89%</td>
<td>212.88%</td>
<td>63.41%</td>
</tr>
<tr>
<td>IC均值加权</td>
<td>1.161433</td>
<td>64.83%</td>
<td>34.69%</td>
<td>10.54%</td>
<td>244.53%</td>
<td>65.85%</td>
</tr>
</tbody>
</table><p>关于不同方式配置权重的大类因子的选股绩效指标详见附录4.</p>
<p>图5展示了等权配置的累积收益率，可以看出等权配置大类代理因子的多因子策略中第三、四、五组的绩效区分度较不明显，除了第一组在2015年牛市期间的涨幅不大之外，其余各组均在此段时间内的收益有大幅提高，其中第二组在熔断股灾期间跌幅较大。</p>
<p>图6展示了在IC均值配置权重下的累计收益，可以看出相比等权重配置大类因子的权重，使用IC均值使得各组的累计收益的区分度更加明显，其中第五组的收益长期高于其余各组，对市场变化的敏感程度更强。</p>
<p>图7展示了在IR配置权重上各组累积收益图，可以看出相比等权重配置大类因子的权重，使用IR均值使得各组的累计收益的区分度更加明显， 但其效果逊色于使用IC均值配置大类代理因子权重的效果。</p>
<p>图8和图9展示了在通过最大化复合IR获得下期因子权重的方法各组累积收益图，可以看出使用Lediot-Wolf计算协方差矩阵各组累积收益的区分度更明显，累计收益更高，稳定性更好。因此，Lediot-Wolf提供的估计协方差矩阵，在一定程度上将各大类因子的IC中存在的噪音减弱，将偏离平均水平的IC协方差矩阵系数压缩至中心水平，进而可以获得更高的IR，达到权重优化的效果。</p>
<p><img src="https://alicdn.ricequant.com/upload/91/d4c37b9f973b5f78277b966f9b21da91.png" alt=""></p>
<p>图5 等权配置大类因子的多因子累积收益图</p>
<p><img src="https://alicdn.ricequant.com/upload/7d/6d1b5b63a05fec7470c7a8f01bfccc7d.png" alt=""></p>
<p>图6 IC均值加权配置大类因子的多因子累积收益图</p>
<p><img src="https://alicdn.ricequant.com/upload/2c/d1f30dbfb4d9dce4339148c1c176232c.png" alt=""></p>
<p>图7 IR-IC加权配置大类因子的多因子累积收益图</p>
<p><img src="https://alicdn.ricequant.com/upload/d9/e1b0ca088ddd68c503fe3e0efc628bd9.png" alt=""></p>
<p>图8 最大化复合IR配置大类因子的多因子累积收益图（普通协方差矩阵）</p>
<p><img src="https://alicdn.ricequant.com/upload/e3/c37e43007e43199858e42fa2b47480e3.png" alt=""></p>
<p>图9 最大化复合IR配置大类因子的多因子累积收益图（压缩协方差矩阵）</p>
<h2 id="六、结论">六、结论</h2>
<p>在对因子的配置上，通常需要从收益率，风险，风格变动，可投资容量上进行综合考虑，配置因子和配置一般资产一样需要从风险溢价上进行权衡，而因子作为资产风险收益的底层驱动力，合理的因子配置无疑可以捕捉到资产的价格趋势，本次报告涉及了常见的因子合成方式和因子权重配置方式，在大类因子合成方式上采取了PCA，逐步回归，等权的方式，在因子权重配置上采取了等权，IC均值加权，IR-IC加权，最大化复合IR的方式。通过本次报告的研究，我们可以了解到：</p>
<ol>
<li>大类因子下细分因子存在一定的相关性，因子之间的多重共线性会导致因子的权重配置不合理，可能导致选股结果对个别因子的暴露纯度过大，资产分散化程度不足。</li>
<li>大类因子在不同的合成方式下效果差异较大，因此针对不同大类因子宜采用不同的合成(降维)方式；PCA方法适用于具有较强相关性的细分因子，降维效果明显，在一定程度上解决了多重共线性问题，但是主成分代表的经济含义不明；逐步回归（stepwise）方法稳健性不佳，在不同的时期上同一大类因子下不同的细分因子的占比可能存在较大差异，这可能导致选股的换手率过大，增大投资者在佣金上的开销。</li>
<li>通过计算大类因子的IC进行配置权重时，权重取值波动频繁，说明大类因子同样受到市场风格轮动的影响，并且这种程度不亚于普通细分因子。</li>
<li>在数种大类因子权重配置方式中，通过观察各种选股绩效指标，使用压缩矩阵最大化复合因子IR的权重配置方式的效用最好，此种方式可以将各大类因子的IC中存在的噪音减弱，将偏离平均水平的IC协方差矩阵系数压缩至中心水平，进而可以获得更高的IR，达到权重优化的效果。</li>
</ol>
<h2 id="七、附录">七、附录</h2>
<h3 id="附录1-细分因子ic变化图：">附录1 细分因子IC变化图：</h3>
<p><img src="https://alicdn.ricequant.com/upload/ab/a47638ec85e9d4d1def0f62ea954feab.png" alt=""></p>
<p>图10 估值因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/b7/fb8673074d31f9d81e83030b82d99cb7.png" alt=""></p>
<p>图11 波动率因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/4b/c15dbefd4a9301c0f2621799968cbe4b.png" alt=""></p>
<p>图12 营运能力因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/36/055aae978bfb48315895ffb8ca377936.png" alt=""></p>
<p>图13 规模类因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/54/bffdd6a61b2a22bceaa23a4b7679df54.png" alt=""></p>
<p>图14 技术因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/ba/f628bb0adca80df1c2d5559affbe46ba.png" alt=""></p>
<p>图15 杠杆因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/85/71609122be7e7a552b1758c415d62c85.png" alt=""></p>
<p>图16 质量因子IC变化图</p>
<p><img src="https://alicdn.ricequant.com/upload/65/e0a3c2ed9b1bdf6af1090ba5cd7bda65.png" alt=""></p>
<p>图17 成长因子IC变化图</p>
<h3 id="附录2-ir相关的权重对比图：">附录2 IR相关的权重对比图：</h3>
<p><img src="https://alicdn.ricequant.com/upload/8b/cd49e7f927c3e71396e77b06afb93c8b.png" alt=""></p>
<p>图18 杠杆大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/2f/431a84e1364b7fac7a4d9cb6f598fd2f.png" alt=""></p>
<p>图19 成长大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/54/683c04e6896628b47b0f44bef508c154.png" alt=""></p>
<p>图20 财务质量大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/d5/c1f336c58db51f0002240f81167105d5.png" alt=""></p>
<p>图21 规模大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/50/e98acf8b068c28f42903f01155ac6f50.png" alt=""></p>
<p>图22 运营能力大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/f0/52da022971e304ecee5d34aa6d7362f0.png" alt=""></p>
<p>图23 估值大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/14/d68e1486395b7fabadc4f8e8abe08814.png" alt=""></p>
<p>图24 技术大类因子权重对比</p>
<p><img src="https://alicdn.ricequant.com/upload/1b/979c18e0f568d1b2f9df33b61dbfa11b.png" alt=""></p>
<p>图25 波动率大类因子权重对比</p>
<h3 id="附录3-大类因子权重配置统计分析">附录3 大类因子权重配置统计分析</h3>
<p>表7 估值大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>1.013102</td>
<td>-1.73058</td>
<td>0.103393</td>
<td>0.112792</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.455462</td>
<td>0.215683</td>
<td>0.049443</td>
<td>0.261043</td>
</tr>
<tr>
<td>均值</td>
<td>0.449128</td>
<td>0.262599</td>
<td>0.02525</td>
<td>0.166867</td>
</tr>
<tr>
<td>峰度</td>
<td>1.239761</td>
<td>5.108267</td>
<td>-0.74618</td>
<td>-0.89126</td>
</tr>
<tr>
<td>最大值</td>
<td>1.883323</td>
<td>0.609466</td>
<td>0.095258</td>
<td>0.512162</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.42823</td>
<td>-0.68019</td>
<td>-0.02744</td>
<td>-0.17185</td>
</tr>
<tr>
<td>标准差</td>
<td>0.488986</td>
<td>0.23042</td>
<td>0.030666</td>
<td>0.19254</td>
</tr>
<tr>
<td>离散系数</td>
<td>1.088745</td>
<td>0.87746</td>
<td>1.214498</td>
<td>1.153852</td>
</tr>
</tbody>
</table><p>表8 波动率大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>-1.38315</td>
<td>-2.71283</td>
<td>-0.34724</td>
<td>-0.15898</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.291011</td>
<td>0.179815</td>
<td>0.02516</td>
<td>0.351221</td>
</tr>
<tr>
<td>均值</td>
<td>-0.10439</td>
<td>-0.05514</td>
<td>-0.00114</td>
<td>0.002139</td>
</tr>
<tr>
<td>峰度</td>
<td>3.283547</td>
<td>12.23551</td>
<td>-0.39138</td>
<td>-0.52808</td>
</tr>
<tr>
<td>最大值</td>
<td>0.564043</td>
<td>0.558145</td>
<td>0.032457</td>
<td>0.514148</td>
</tr>
<tr>
<td>最小值</td>
<td>-1.29412</td>
<td>-1.53385</td>
<td>-0.04505</td>
<td>-0.58879</td>
</tr>
<tr>
<td>标准差</td>
<td>0.332276</td>
<td>0.30313</td>
<td>0.019591</td>
<td>0.255761</td>
</tr>
<tr>
<td>离散系数</td>
<td>-3.18291</td>
<td>-5.49742</td>
<td>-17.1786</td>
<td>119.5661</td>
</tr>
</tbody>
</table><p>表9 技术大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>1.099924</td>
<td>1.989307</td>
<td>-0.50902</td>
<td>-0.43194</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.258987</td>
<td>0.285356</td>
<td>0.024151</td>
<td>0.211692</td>
</tr>
<tr>
<td>均值</td>
<td>0.284075</td>
<td>0.284846</td>
<td>0.030976</td>
<td>0.281251</td>
</tr>
<tr>
<td>峰度</td>
<td>2.299327</td>
<td>6.325487</td>
<td>0.354689</td>
<td>0.483585</td>
</tr>
<tr>
<td>最大值</td>
<td>1.096399</td>
<td>1.514672</td>
<td>0.065482</td>
<td>0.631887</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.2871</td>
<td>-0.27187</td>
<td>-0.02466</td>
<td>-0.24092</td>
</tr>
<tr>
<td>标准差</td>
<td>0.261498</td>
<td>0.289558</td>
<td>0.019282</td>
<td>0.179613</td>
</tr>
<tr>
<td>离散系数</td>
<td>0.920522</td>
<td>1.016544</td>
<td>0.622479</td>
<td>0.638622</td>
</tr>
</tbody>
</table><p>表10 规模大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>0.559783</td>
<td>-1.44272</td>
<td>-0.4074</td>
<td>-0.22333</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.322783</td>
<td>0.220935</td>
<td>0.042235</td>
<td>0.311838</td>
</tr>
<tr>
<td>均值</td>
<td>0.471532</td>
<td>0.380477</td>
<td>0.013972</td>
<td>0.108164</td>
</tr>
<tr>
<td>峰度</td>
<td>3.020176</td>
<td>6.955838</td>
<td>-0.45491</td>
<td>-0.56359</td>
</tr>
<tr>
<td>最大值</td>
<td>1.40551</td>
<td>0.997159</td>
<td>0.076594</td>
<td>0.572499</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.4009</td>
<td>-0.66162</td>
<td>-0.06302</td>
<td>-0.39018</td>
</tr>
<tr>
<td>标准差</td>
<td>0.293572</td>
<td>0.245423</td>
<td>0.034472</td>
<td>0.236304</td>
</tr>
<tr>
<td>离散系数</td>
<td>0.622592</td>
<td>0.645039</td>
<td>2.467275</td>
<td>2.184674</td>
</tr>
</tbody>
</table><p>表11 财务大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>-0.08414</td>
<td>0.816884</td>
<td>0.140961</td>
<td>-0.2371</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.458869</td>
<td>0.271061</td>
<td>0.025598</td>
<td>0.322878</td>
</tr>
<tr>
<td>均值</td>
<td>-0.07904</td>
<td>0.055176</td>
<td>0.004078</td>
<td>0.038023</td>
</tr>
<tr>
<td>峰度</td>
<td>-0.03401</td>
<td>1.984106</td>
<td>-0.07943</td>
<td>-0.40187</td>
</tr>
<tr>
<td>最大值</td>
<td>0.794992</td>
<td>0.837068</td>
<td>0.042726</td>
<td>0.463347</td>
</tr>
<tr>
<td>最小值</td>
<td>-1.07947</td>
<td>-0.39764</td>
<td>-0.03632</td>
<td>-0.52257</td>
</tr>
<tr>
<td>标准差</td>
<td>0.422154</td>
<td>0.226644</td>
<td>0.01654</td>
<td>0.23401</td>
</tr>
<tr>
<td>离散系数</td>
<td>-5.34092</td>
<td>4.107668</td>
<td>4.056378</td>
<td>6.154441</td>
</tr>
</tbody>
</table><p>表12 营运能力大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>-2.46867</td>
<td>0.566759</td>
<td>0.011554</td>
<td>0.152017</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.707277</td>
<td>0.235876</td>
<td>0.010594</td>
<td>0.248106</td>
</tr>
<tr>
<td>均值</td>
<td>-0.48649</td>
<td>-0.10241</td>
<td>0.002004</td>
<td>0.053957</td>
</tr>
<tr>
<td>峰度</td>
<td>6.951713</td>
<td>1.593926</td>
<td>-0.93156</td>
<td>-0.85913</td>
</tr>
<tr>
<td>最大值</td>
<td>0.982502</td>
<td>0.722314</td>
<td>0.013069</td>
<td>0.376696</td>
</tr>
<tr>
<td>最小值</td>
<td>-4.8609</td>
<td>-0.52377</td>
<td>-0.01075</td>
<td>-0.21497</td>
</tr>
<tr>
<td>标准差</td>
<td>1.10559</td>
<td>0.246228</td>
<td>0.006553</td>
<td>0.161554</td>
</tr>
<tr>
<td>离散系数</td>
<td>-2.27258</td>
<td>-2.40424</td>
<td>3.269133</td>
<td>2.994128</td>
</tr>
</tbody>
</table><p>表13 杠杆大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>-0.03358</td>
<td>-0.36406</td>
<td>-0.02034</td>
<td>0.160735</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.37696</td>
<td>0.183061</td>
<td>0.011954</td>
<td>0.215334</td>
</tr>
<tr>
<td>均值</td>
<td>-0.07224</td>
<td>-0.00113</td>
<td>0.003589</td>
<td>0.080572</td>
</tr>
<tr>
<td>峰度</td>
<td>0.953293</td>
<td>1.536462</td>
<td>-0.75306</td>
<td>-0.76108</td>
</tr>
<tr>
<td>最大值</td>
<td>1.102163</td>
<td>0.40024</td>
<td>0.021332</td>
<td>0.427222</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.99266</td>
<td>-0.53677</td>
<td>-0.01236</td>
<td>-0.18628</td>
</tr>
<tr>
<td>标准差</td>
<td>0.416493</td>
<td>0.174725</td>
<td>0.008533</td>
<td>0.162017</td>
</tr>
<tr>
<td>离散系数</td>
<td>-5.76557</td>
<td>-154.152</td>
<td>2.377579</td>
<td>2.010833</td>
</tr>
</tbody>
</table><p>表14 成长大类因子权重配置统计分析</p>

<table>
<thead>
<tr>
<th></th>
<th>最大化复合IR(一般矩阵)</th>
<th>最大化复合IR(压缩矩阵)</th>
<th>IC均值加权</th>
<th>IR加权</th>
</tr>
</thead>
<tbody>
<tr>
<td>偏度</td>
<td>2.493067</td>
<td>-0.20206</td>
<td>-0.44103</td>
<td>-0.71372</td>
</tr>
<tr>
<td>四分位差</td>
<td>0.66417</td>
<td>0.215705</td>
<td>0.017016</td>
<td>0.368917</td>
</tr>
<tr>
<td>均值</td>
<td>0.53743</td>
<td>0.17559</td>
<td>0.001762</td>
<td>0.027288</td>
</tr>
<tr>
<td>峰度</td>
<td>7.584105</td>
<td>0.094311</td>
<td>-0.69917</td>
<td>0.059634</td>
</tr>
<tr>
<td>最大值</td>
<td>4.270086</td>
<td>0.604419</td>
<td>0.018992</td>
<td>0.452066</td>
</tr>
<tr>
<td>最小值</td>
<td>-0.90966</td>
<td>-0.36448</td>
<td>-0.02148</td>
<td>-0.68858</td>
</tr>
<tr>
<td>标准差</td>
<td>0.92378</td>
<td>0.218559</td>
<td>0.010699</td>
<td>0.270283</td>
</tr>
<tr>
<td>离散系数</td>
<td>1.718885</td>
<td>1.244712</td>
<td>6.070916</td>
<td>9.904655</td>
</tr>
</tbody>
</table><h3 id="附录4-不同方式配置权重的大类因子的选股绩效指标">附录4 不同方式配置权重的大类因子的选股绩效指标</h3>
<p>表15 使用等权配置权重的选股绩效指标</p>

<table>
<thead>
<tr>
<th>分组</th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>62.38%</td>
<td>41.71%</td>
<td>34.78%</td>
<td>0.427273</td>
<td>56.10%</td>
<td>62.60%</td>
</tr>
<tr>
<td>2</td>
<td>108.55%</td>
<td>35.38%</td>
<td>34.19%</td>
<td>0.683584</td>
<td>53.66%</td>
<td>74.43%</td>
</tr>
<tr>
<td>3</td>
<td>150.79%</td>
<td>34.24%</td>
<td>34.74%</td>
<td>0.864435</td>
<td>53.66%</td>
<td>75.53%</td>
</tr>
<tr>
<td>4</td>
<td>162.99%</td>
<td>32.76%</td>
<td>34.16%</td>
<td>0.93169</td>
<td>60.98%</td>
<td>74.39%</td>
</tr>
<tr>
<td>5</td>
<td>175.02%</td>
<td>36.93%</td>
<td>36.20%</td>
<td>0.925843</td>
<td>58.54%</td>
<td>63.03%</td>
</tr>
</tbody>
</table><p>表16 使用IC均值加权配置权重的选股绩效指标</p>

<table>
<thead>
<tr>
<th>分组</th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>25.34%</td>
<td>49.83%</td>
<td>34.95%</td>
<td>0.19077</td>
<td>53.66%</td>
<td>63.53%</td>
</tr>
<tr>
<td>2</td>
<td>78.66%</td>
<td>39.98%</td>
<td>34.26%</td>
<td>0.526345</td>
<td>53.66%</td>
<td>77.28%</td>
</tr>
<tr>
<td>3</td>
<td>177.46%</td>
<td>29.94%</td>
<td>34.64%</td>
<td>0.976965</td>
<td>58.54%</td>
<td>77.42%</td>
</tr>
<tr>
<td>4</td>
<td>183.41%</td>
<td>33.58%</td>
<td>34.81%</td>
<td>0.99591</td>
<td>63.41%</td>
<td>76.23%</td>
</tr>
<tr>
<td>5</td>
<td>244.53%</td>
<td>34.69%</td>
<td>36.51%</td>
<td>1.161433</td>
<td>65.85%</td>
<td>64.83%</td>
</tr>
</tbody>
</table><p>表17 使用IR加权配置权重的选股绩效指标</p>

<table>
<thead>
<tr>
<th>分组</th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>38.50%</td>
<td>46.42%</td>
<td>35.92%</td>
<td>0.271553</td>
<td>53.66%</td>
<td>65.68%</td>
</tr>
<tr>
<td>2</td>
<td>96.81%</td>
<td>36.28%</td>
<td>34.16%</td>
<td>0.62512</td>
<td>53.66%</td>
<td>76.96%</td>
</tr>
<tr>
<td>3</td>
<td>164.71%</td>
<td>30.86%</td>
<td>34.02%</td>
<td>0.942909</td>
<td>56.10%</td>
<td>77.52%</td>
</tr>
<tr>
<td>4</td>
<td></td>
<td>167.88%</td>
<td>35.25%</td>
<td>34.92%</td>
<td>0.931389</td>
<td>63.41%</td>
</tr>
<tr>
<td>5</td>
<td>215.20%</td>
<td>33.06%</td>
<td>35.44%</td>
<td>1.094918</td>
<td>63.41%</td>
<td></td>
</tr>
</tbody>
</table><p>表18 使用一般矩阵最大化复合IR配置权重的选股绩效指标</p>

<table>
<thead>
<tr>
<th>分组</th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>74.14%</td>
<td>39.85%</td>
<td>35.19%</td>
<td>0.487755</td>
<td>53.66%</td>
<td>59.83%</td>
</tr>
<tr>
<td>2</td>
<td>103.74%</td>
<td>38.38%</td>
<td>33.46%</td>
<td>0.673524</td>
<td>53.66%</td>
<td>74.01%</td>
</tr>
<tr>
<td>3</td>
<td>143.40%</td>
<td>31.41%</td>
<td>32.63%</td>
<td>0.886396</td>
<td>56.10%</td>
<td>76.02%</td>
</tr>
<tr>
<td>4</td>
<td>151.33%</td>
<td>32.91%</td>
<td>34.08%</td>
<td>0.883473</td>
<td>63.41%</td>
<td>74.02%</td>
</tr>
<tr>
<td>5</td>
<td>172.37%</td>
<td>33.45%</td>
<td>37.83%</td>
<td>0.876291</td>
<td>60.98%</td>
<td>59.12%</td>
</tr>
</tbody>
</table><p>表19 使用压缩矩阵最大化复合IR配置权重的选股绩效指标</p>

<table>
<thead>
<tr>
<th>分组</th>
<th>累积收益</th>
<th>最大回撤</th>
<th>波动率</th>
<th>夏普比率</th>
<th>胜率</th>
<th>换手率</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>57.06%</td>
<td>44.17%</td>
<td>35.02%</td>
<td>0.393275</td>
<td>56.10%</td>
<td>59.63%</td>
</tr>
<tr>
<td>2</td>
<td>94.72%</td>
<td>37.16%</td>
<td>33.64%</td>
<td>0.623338</td>
<td>53.66%</td>
<td>75.80%</td>
</tr>
<tr>
<td>3</td>
<td>136.41%</td>
<td>33.24%</td>
<td>33.19%</td>
<td>0.839835</td>
<td>58.54%</td>
<td>76.52%</td>
</tr>
<tr>
<td>4</td>
<td>161.28%</td>
<td>32.00%</td>
<td>34.12%</td>
<td>0.925795</td>
<td>63.41%</td>
<td>75.20%</td>
</tr>
<tr>
<td>5</td>
<td>212.88%</td>
<td>31.96%</td>
<td>37.72%</td>
<td>1.021081</td>
<td>63.41%</td>
<td>61.39%</td>
</tr>
</tbody>
</table>
